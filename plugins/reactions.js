const { malvin } = require("../malvin");
const { fetchGif, gifToVideo } = require("../lib/fetchGif");
const axios = require("axios");

malvin(
    {
        pattern: "cry",
        desc: "Send a crying reaction GIF.",
        category: "reaction",
        react: "üò¢",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} is crying over @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is crying!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/cry";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .cry command:", error);
            reply(`‚ùå *Error in .cry command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "cuddle",
        desc: "Send a cuddle reaction GIF.",
        category: "reaction",
        react: "ü§ó",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} cuddled @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is cuddling everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/cuddle";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .cuddle command:", error);
            reply(`‚ùå *Error in .cuddle command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "bully",
        desc: "Send a bully reaction GIF.",
        category: "reaction",
        react: "üòà",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} is bullying @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is bullying everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/bully";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .bully command:", error);
            reply(`‚ùå *Error in .bully command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "hug",
        desc: "Send a hug reaction GIF.",
        category: "reaction",
        react: "ü§ó",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} hugged @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is hugging everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/hug";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .hug command:", error);
            reply(`‚ùå *Error in .hug command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);


malvin(
    {
        pattern: "awoo",
        desc: "Send an awoo reaction GIF.",
        category: "reaction",
        react: "üê∫",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} awoos at @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is awooing everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/awoo";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .awoo command:", error);
            reply(`‚ùå *Error in .awoo command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "lick",
        desc: "Send a lick reaction GIF.",
        category: "reaction",
        react: "üëÖ",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);

            let message = mentionedUser ? `${sender} licked @${mentionedUser.split("@")[0]}` : `${sender} licked themselves!`;

            const apiUrl = "https://api.waifu.pics/sfw/lick";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .lick command:", error);
            reply(`‚ùå *Error in .lick command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);
  
malvin(
    {
        pattern: "pat",
        desc: "Send a pat reaction GIF.",
        category: "reaction",
        react: "ü´Ç",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} patted @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is patting everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;
            const apiUrl = "https://api.waifu.pics/sfw/pat";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .pat command:", error);
            reply(`‚ùå *Error in .pat command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "smug",
        desc: "Send a smug reaction GIF.",
        category: "reaction",
        react: "üòè",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} is smug at @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is feeling smug!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/smug";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .smug command:", error);
            reply(`‚ùå *Error in .smug command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "bonk",
        desc: "Send a bonk reaction GIF.",
        category: "reaction",
        react: "üî®",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} bonked @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is bonking everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/bonk";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .bonk command:", error);
            reply(`‚ùå *Error in .bonk command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);


malvin(
    {
        pattern: "yeet",
        desc: "Send a yeet reaction GIF.",
        category: "reaction",
        react: "üí®",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} yeeted @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is yeeting everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/yeet";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .yeet command:", error);
            reply(`‚ùå *Error in .yeet command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "blush",
        desc: "Send a blush reaction GIF.",
        category: "reaction",
        react: "üòä",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} is blushing at @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is blushing!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/blush";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .blush command:", error);
            reply(`‚ùå *Error in .blush command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);  
  
malvin(
    {
        pattern: "handhold",
        desc: "Send a hand-holding reaction GIF.",
        category: "reaction",
        react: "ü§ù",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} is holding hands with @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} wants to hold hands with everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/handhold";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .handhold command:", error);
            reply(`‚ùå *Error in .handhold command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);


malvin(
    {
        pattern: "highfive",
        desc: "Send a high-five reaction GIF.",
        category: "reaction",
        react: "‚úã",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} gave a high-five to @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is high-fiving everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/highfive";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .highfive command:", error);
            reply(`‚ùå *Error in .highfive command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);  

malvin(
    {
        pattern: "nom",
        desc: "Send a nom reaction GIF.",
        category: "reaction",
        react: "üçΩÔ∏è",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} is nomming @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is nomming everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/nom";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .nom command:", error);
            reply(`‚ùå *Error in .nom command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "wave",
        desc: "Send a wave reaction GIF.",
        category: "reaction",
        react: "üëã",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} waved at @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is waving at everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/wave";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .wave command:", error);
            reply(`‚ùå *Error in .wave command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "smile",
        desc: "Send a smile reaction GIF.",
        category: "reaction",
        react: "üòÅ",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} smiled at @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is smiling at everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/smile";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .smile command:", error);
            reply(`‚ùå *Error in .smile command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "wink",
        desc: "Send a wink reaction GIF.",
        category: "reaction",
        react: "üòâ",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} winked at @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is winking at everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/wink";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .wink command:", error);
            reply(`‚ùå *Error in .wink command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "happy",
        desc: "Send a happy reaction GIF.",
        category: "reaction",
        react: "üòä",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} is happy with @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is happy with everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/happy";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .happy command:", error);
            reply(`‚ùå *Error in .happy command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "glomp",
        desc: "Send a glomp reaction GIF.",
        category: "reaction",
        react: "ü§ó",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} glomped @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is glomping everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/glomp";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .glomp command:", error);
            reply(`‚ùå *Error in .glomp command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "bite",
        desc: "Send a bite reaction GIF.",
        category: "reaction",
        react: "ü¶∑",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} bit @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is biting everyone!`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/bite";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .bite command:", error);
            reply(`‚ùå *Error in .bite command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "poke",
        desc: "Send a poke reaction GIF.",
        category: "reaction",
        react: "üëâ",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} poked @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} poked everyone`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/poke";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .poke command:", error);
            reply(`‚ùå *Error in .poke command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);
  
  
malvin(
    {
        pattern: "cringe",
        desc: "Send a cringe reaction GIF.",
        category: "reaction",
        react: "üò¨",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} thinks @${mentionedUser.split("@")[0]} is cringe`
                : isGroup
                ? `${sender} finds everyone cringe`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/cringe";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .cringe command:", error);
            reply(`‚ùå *Error in .cringe command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);


malvin(
    {
        pattern: "dance",
        desc: "Send a dance reaction GIF.",
        category: "reaction",
        react: "üíÉ",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message = mentionedUser
                ? `${sender} danced with @${mentionedUser.split("@")[0]}`
                : isGroup
                ? `${sender} is dancing with everyone`
                : `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;

            const apiUrl = "https://api.waifu.pics/sfw/dance";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .dance command:", error);
            reply(`‚ùå *Error in .dance command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);


  
malvin(
    {
        pattern: "kill",
        desc: "Send a kill reaction GIF.",
        category: "reaction",
        react: "üî™",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message;
            if (mentionedUser) {
                let target = `@${mentionedUser.split("@")[0]}`;
                message = `${sender} killed ${target}`;
            } else if (isGroup) {
                message = `${sender} killed everyone`;
            } else {
                message = `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;
            }

            const apiUrl = "https://api.waifu.pics/sfw/kill";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .kill command:", error);
            reply(`‚ùå *Error in .kill command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "slap",
        desc: "Send a slap reaction GIF.",
        category: "reaction",
        react: "‚úä",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message;
            if (mentionedUser) {
                let target = `@${mentionedUser.split("@")[0]}`;
                message = `${sender} slapped ${target}`;
            } else if (isGroup) {
                message = `${sender} slapped everyone`;
            } else {
                message = `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;
            }

            const apiUrl = "https://api.waifu.pics/sfw/slap";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .slap command:", error);
            reply(`‚ùå *Error in .slap command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);

malvin(
    {
        pattern: "kiss",
        desc: "Send a kiss reaction GIF.",
        category: "reaction",
        react: "üíã",
        filename: __filename,
        use: "@tag (optional)",
    },
    async (malvin, mek, m, { args, q, reply }) => {
        try {
            let sender = `@${mek.sender.split("@")[0]}`;
            let mentionedUser = m.mentionedJid[0] || (mek.quoted && mek.quoted.sender);
            let isGroup = m.isGroup;

            let message;
            if (mentionedUser) {
                let target = `@${mentionedUser.split("@")[0]}`;
                message = `${sender} kissed ${target}`;
            } else if (isGroup) {
                message = `${sender} kissed everyone`;
            } else {
                message = `> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥ç·¥è·¥õ…™·¥è…¥ ü·¥áss ·¥ã…™…¥…¢ üñ§`;
            }

            const apiUrl = "https://api.waifu.pics/sfw/kiss";
            let res = await axios.get(apiUrl);
            let gifUrl = res.data.url;

            let gifBuffer = await fetchGif(gifUrl);
            let videoBuffer = await gifToVideo(gifBuffer);

            await malvin.sendMessage(
                mek.chat,
                { video: videoBuffer, caption: message, gifPlayback: true, mentions: [mek.sender, mentionedUser].filter(Boolean) },
                { quoted: mek }
            );
        } catch (error) {
            console.error("‚ùå Error in .kiss command:", error);
            reply(`‚ùå *Error in .kiss command:*\n\`\`\`${error.message}\`\`\``);
        }
    }
);
